# EntelliExtract Test Stub - Configuration (example)
# 1. Copy this file to config.yaml:  cp config.example.yaml config.yaml
# 2. Set environment variables (see .env.example or README): ENTELLIEXTRACT_BASE_URL, etc.
# 3. Edit buckets / paths below if needed.

api:
  baseUrl: ${ENTELLIEXTRACT_BASE_URL}
  timeoutMs: 60000

# S3: buckets are built from .env S3_BUCKET + S3_TENANT_PURCHASERS (single bucket, tenant/purchaser folders).
# Use --tenant and --purchaser on sync/run to scope to one tenant's purchaser.
s3:
  buckets:
    - name: tenant__purchaser
      bucket: your-bucket
      prefix: "tenant-id/purchaser-id/"
  stagingDir: ./output/staging
  region: us-west-2
  syncLimit: 0
  syncManifestPath: ./output/checkpoints/sync-manifest.json

# Extraction run settings
run:
  concurrency: 5
  requestsPerSecond: 10
  checkpointPath: ./output/checkpoints/checkpoint.db
  skipCompleted: true

# Logging
logging:
  dir: ./output/logs
  requestResponseLog: request-response.jsonl
  maxResponseBodyLength: 50000

# Reporting
report:
  outputDir: ./output/reports
  formats:
    - html
    - json
  # Optional: keep only the last N report sets (each run = one .html + one .json). Older reports are deleted after each write. Omit or 0 = keep all.
  # retainCount: 10
